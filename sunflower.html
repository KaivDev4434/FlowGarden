<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunflower Life Cycle Animation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(to bottom, #87CEEB 0%, #98FB98 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: Arial, sans-serif;
        }
        
        .container {
            text-align: center;
        }
        
        .sunflower-scene {
            background: linear-gradient(to bottom, #87CEEB 0%, #98FB98 60%, #8FBC8F 100%);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2F4F4F;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sunflower Life Cycle</h1>
        <div class="sunflower-scene">
            <svg width="400" height="400" viewBox="0 0 400 400">
                <!-- Pot -->
                <path id="pot" d="M 100 320 L 120 380 L 280 380 L 300 320 Z" 
                      fill="#8B4513" stroke="#654321" stroke-width="2"/>
                
                <!-- Soil -->
                <ellipse id="soil" cx="200" cy="320" rx="90" ry="15" fill="#5D4037"/>
                
                <!-- Seed -->
                <ellipse id="seed" cx="200" cy="310" rx="3" ry="5" 
                         fill="#5B3A29" opacity="0"/>
                
                <!-- Stem -->
                <rect id="stem" x="196" y="310" width="8" height="0" 
                      fill="#228B22" rx="4"/>
                
                <!-- Lower Leaves -->
                <path id="leaf1" d="M 200 270 Q 160 260 140 280 Q 160 300 200 270" 
                      fill="#2E8B57" opacity="0" transform-origin="200 270"/>
                <path id="leaf2" d="M 200 270 Q 240 260 260 280 Q 240 300 200 270" 
                      fill="#2E8B57" opacity="0" transform-origin="200 270"/>
                
                <!-- Upper Leaves -->
                <path id="leaf3" d="M 200 230 Q 170 220 155 235 Q 170 250 200 230" 
                      fill="#2E8B57" opacity="0" transform-origin="200 230"/>
                <path id="leaf4" d="M 200 230 Q 230 220 245 235 Q 230 250 200 230" 
                      fill="#2E8B57" opacity="0" transform-origin="200 230"/>
                
                <!-- Flower Center -->
                <circle id="flower-center" cx="200" cy="160" r="35" 
                        fill="#8B4513" opacity="0"/>
                
                <!-- Petals (16 petals, 22.5Â° apart) -->
                <g id="petals" opacity="0">
                    <!-- Top petal -->
                    <ellipse class="petal" cx="200" cy="125" rx="6" ry="15" fill="#FFD700" transform-origin="200 160"/>
                    <!-- Top-right petals -->
                    <ellipse class="petal" cx="213" cy="128" rx="6" ry="15" fill="#FFD700" transform="rotate(22.5 200 160)" transform-origin="200 160"/>
                    <ellipse class="petal" cx="225" cy="135" rx="6" ry="15" fill="#FFD700" transform="rotate(45 200 160)" transform-origin="200 160"/>
                    <ellipse class="petal" cx="232" cy="147" rx="6" ry="15" fill="#FFD700" transform="rotate(67.5 200 160)" transform-origin="200 160"/>
                    <!-- Right petal -->
                    <ellipse class="petal" cx="235" cy="160" rx="6" ry="15" fill="#FFD700" transform="rotate(90 200 160)" transform-origin="200 160"/>
                    <!-- Bottom-right petals -->
                    <ellipse class="petal" cx="232" cy="173" rx="6" ry="15" fill="#FFD700" transform="rotate(112.5 200 160)" transform-origin="200 160"/>
                    <ellipse class="petal" cx="225" cy="185" rx="6" ry="15" fill="#FFD700" transform="rotate(135 200 160)" transform-origin="200 160"/>
                    <ellipse class="petal" cx="213" cy="192" rx="6" ry="15" fill="#FFD700" transform="rotate(157.5 200 160)" transform-origin="200 160"/>
                    <!-- Bottom petal -->
                    <ellipse class="petal" cx="200" cy="195" rx="6" ry="15" fill="#FFD700" transform="rotate(180 200 160)" transform-origin="200 160"/>
                    <!-- Bottom-left petals -->
                    <ellipse class="petal" cx="187" cy="192" rx="6" ry="15" fill="#FFD700" transform="rotate(202.5 200 160)" transform-origin="200 160"/>
                    <ellipse class="petal" cx="175" cy="185" rx="6" ry="15" fill="#FFD700" transform="rotate(225 200 160)" transform-origin="200 160"/>
                    <ellipse class="petal" cx="168" cy="173" rx="6" ry="15" fill="#FFD700" transform="rotate(247.5 200 160)" transform-origin="200 160"/>
                    <!-- Left petal -->
                    <ellipse class="petal" cx="165" cy="160" rx="6" ry="15" fill="#FFD700" transform="rotate(270 200 160)" transform-origin="200 160"/>
                    <!-- Top-left petals -->
                    <ellipse class="petal" cx="168" cy="147" rx="6" ry="15" fill="#FFD700" transform="rotate(292.5 200 160)" transform-origin="200 160"/>
                    <ellipse class="petal" cx="175" cy="135" rx="6" ry="15" fill="#FFD700" transform="rotate(315 200 160)" transform-origin="200 160"/>
                    <ellipse class="petal" cx="187" cy="128" rx="6" ry="15" fill="#FFD700" transform="rotate(337.5 200 160)" transform-origin="200 160"/>
                </g>
                
                <!-- Fallen elements container -->
                <g id="fallen-elements"></g>
            </svg>
        </div>
    </div>

    <script>
        // Animation configuration
        const config = {
            colors: {
                seed: '#5B3A29',
                stem: '#228B22',
                stemWilted: '#8B7355',
                leaves: '#2E8B57',
                leavesWilted: '#8FBC8F',
                petals: '#FFD700',
                petalsWilted: '#DEB887',
                flowerCenter: '#8B4513'
            },
            timing: {
                seedStage: 2000,
                sproutStage: 3000,
                leafStage: 3000,
                bloomStage: 3000,
                wiltStage: 2000,
                deathStage: 2000
            }
        };

        // Create main timeline
        const timeline = anime.timeline({
            autoplay: true,
            loop: true,
            direction: 'normal'
        });

        // Stage 1: Seed appears (0-2s)
        timeline.add({
            targets: '#seed',
            opacity: [0, 1],
            scale: [0.5, 1],
            duration: config.timing.seedStage,
            easing: 'easeOutElastic(1, 0.5)',
            transformOrigin: 'center'
        });

        // Stage 2: Sprout grows (2-5s)
        timeline.add({
            targets: '#stem',
            height: [0, 90],
            y: [310, 220],
            duration: config.timing.sproutStage,
            easing: 'easeOutElastic(1, 0.3)',
            transformOrigin: 'bottom'
        });

        // Stage 3: Leaf growth (5-8s)
        timeline.add({
            targets: ['#leaf1', '#leaf2'],
            opacity: [0, 1],
            scale: [0, 1],
            duration: config.timing.leafStage / 2,
            easing: 'easeOutElastic(1, 0.5)',
            delay: anime.stagger(500)
        });

        timeline.add({
            targets: '#stem',
            height: [90, 150],
            y: [220, 160],
            duration: config.timing.leafStage / 2,
            easing: 'easeOutQuad'
        }, '-=1500');

        timeline.add({
            targets: ['#leaf3', '#leaf4'],
            opacity: [0, 1],
            scale: [0, 1],
            duration: config.timing.leafStage / 2,
            easing: 'easeOutElastic(1, 0.5)',
            delay: anime.stagger(300)
        }, '-=1000');

        // Stage 4: Flower blooms (8-11s)
        timeline.add({
            targets: '#flower-center',
            opacity: [0, 1],
            scale: [0, 1],
            duration: 1000,
            easing: 'easeOutElastic(1, 0.6)',
            transformOrigin: 'center'
        });

        timeline.add({
            targets: '#petals',
            opacity: [0, 1],
            duration: 500,
            easing: 'easeOutQuad'
        }, '-=500');

        timeline.add({
            targets: '.petal',
            scale: [0, 1],
            rotate: function(el, i) {
                return [0, i * 22.5];
            },
            duration: 2000,
            easing: 'easeOutElastic(1, 0.4)',
            delay: anime.stagger(100, {start: 200}),
            transformOrigin: '200px 160px'
        }, '-=2000');

        // Stage 5: Wilting begins (11-13s)
        timeline.add({
            targets: '.petal',
            rotate: function(el, i) {
                return [i * 22.5, i * 22.5 + 45];
            },
            fill: [config.colors.petals, config.colors.petalsWilted],
            duration: config.timing.wiltStage,
            easing: 'easeInOutQuad',
            transformOrigin: '200px 160px'
        });

        timeline.add({
            targets: '#stem',
            rotate: [-2, 5],
            fill: [config.colors.stem, config.colors.stemWilted],
            duration: config.timing.wiltStage,
            easing: 'easeInOutQuad',
            transformOrigin: '200px 310px'
        }, '-=2000');

        timeline.add({
            targets: ['#leaf1', '#leaf2', '#leaf3', '#leaf4'],
            fill: [config.colors.leaves, config.colors.leavesWilted],
            duration: config.timing.wiltStage,
            easing: 'easeInOutQuad'
        }, '-=2000');

        // Stage 6: Death and falling (13-15s)
        timeline.add({
            targets: '.petal',
            translateY: function() {
                return anime.random(100, 200);
            },
            translateX: function() {
                return anime.random(-50, 50);
            },
            rotate: function(el, i) {
                return [i * 22.5 + 45, i * 22.5 + anime.random(180, 360)];
            },
            opacity: [1, 0.3],
            duration: config.timing.deathStage,
            easing: 'easeInQuad',
            delay: anime.stagger(100),
            transformOrigin: '200px 160px'
        });

        timeline.add({
            targets: ['#leaf1', '#leaf2', '#leaf3', '#leaf4'],
            translateY: function() {
                return anime.random(80, 150);
            },
            translateX: function() {
                return anime.random(-30, 30);
            },
            rotate: function() {
                return anime.random(-180, 180);
            },
            opacity: [1, 0.2],
            duration: config.timing.deathStage,
            easing: 'easeInQuad',
            delay: anime.stagger(200)
        }, '-=1500');

        timeline.add({
            targets: '#stem',
            rotate: [5, 45],
            height: [150, 80],
            opacity: [1, 0.4],
            duration: config.timing.deathStage,
            easing: 'easeInQuad',
            transformOrigin: '200px 310px'
        }, '-=1800');

        timeline.add({
            targets: '#flower-center',
            opacity: [1, 0.3],
            translateY: 80,
            translateX: 20,
            duration: config.timing.deathStage,
            easing: 'easeInQuad'
        }, '-=1500');

        // Reset for loop
        timeline.add({
            targets: ['#seed', '#stem', '#leaf1', '#leaf2', '#leaf3', '#leaf4', '#flower-center', '#petals', '.petal'],
            opacity: 0,
            scale: 1,
            rotate: 0,
            translateX: 0,
            translateY: 0,
            height: function(el) {
                return el.id === 'stem' ? 0 : null;
            },
            y: function(el) {
                return el.id === 'stem' ? 310 : null;
            },
            fill: function(el) {
                if (el.id === 'stem') return config.colors.stem;
                if (el.classList.contains('petal')) return config.colors.petals;
                if (el.id.includes('leaf')) return config.colors.leaves;
                return null;
            },
            duration: 1000,
            easing: 'easeOutQuad'
        });

        // Add restart button functionality
        document.addEventListener('click', function() {
            timeline.restart();
        });

        console.log('Sunflower life cycle animation initialized!');
    </script>
</body>
</html>